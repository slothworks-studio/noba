import{S as t,i as e,s as n,e as r,c as s,a as i,d as o,b as a,f as l,G as d,H as c,z as u,I as h,t as f,k as g,g as m,n as v,F as w,h as p,j as x,m as y,o as $,v as E,r as b,J as I,w as H,K as W,u as V,L as D,M as j,N as A,B}from"../chunks/vendor-b9659805.js";function C(t){let e;return{c(){e=r("canvas"),this.h()},l(t){e=s(t,"CANVAS",{id:!0}),i(e).forEach(o),this.h()},h(){a(e,"id",t[0])},m(t,n){l(t,e,n)},p(t,[n]){1&n&&a(e,"id",t[0])},i:d,o:d,d(t){t&&o(e)}}}function S(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(s,i){function o(t){try{l(r.next(t))}catch(e){i(e)}}function a(t){try{l(r.throw(t))}catch(e){i(e)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}l((r=r.apply(t,e||[])).next())}))};const{Render:s,Runner:i,Bodies:o,World:a,Engine:l,Composite:d,Constraint:f,Mouse:g,MouseConstraint:m,Events:v}=h;let{id:w="grid"}=e,{worldWidth:p=1e3}=e,{worldHeight:x=1e3}=e,{columns:y=25}=e,{rows:$=25}=e;const E=c();return u((()=>r(void 0,void 0,void 0,(function*(){let t=l.create(document.getElementById(w));t.gravity.y=0,t.gravity.x=0,t.gravity.scale=1e-7;let e=s.create({canvas:document.getElementById(w),engine:t,options:{width:p,height:x,background:"black",wireframes:!1}});s.run(e);let n=i.create();function r(t,e,n,r){return o.rectangle(t,e,n,r,{isStatic:!0,render:{fillStyle:"grey"},density:5e5,restitution:.5})}function c(e,n,r,s,i){let a=o.rectangle(e,n,r,s,{label:i,friction:.1,frictionAir:.05,restitution:.05,render:{opacity:1,fillStyle:"white"}});d.add(t.world,a);let l=f.create({bodyA:a,pointA:{x:e,y:n},pointB:{x:e,y:n},stiffness:.001,damping:.1,render:{visible:!1}});d.add(t.world,l)}i.run(n,t),a.add(t.world,[r(p/2,-500,p+100,1e3),r(p/2,x+500,p+100,1e3),r(-500,x/2,1e3,x+100),r(p+500,x/2,1e3,x+100)]),function(){const t=p/y,e=x/$,n=15*e/100,r=15*t/100;for(let s=0;s<$;s++)for(let i=0;i<y;i++){c(t/2+t*i,e/2+e*s,r,n,"row"+s+";column"+i)}}();var u=g.create(e.canvas),h=m.create(t,{mouse:u,constraint:{stiffness:.2,render:{visible:!1}}});let b;v.on(h,"mousedown",(e=>{b=o.circle(e.source.mouse.position.x,e.source.mouse.position.y,40,{label:"drag",render:{visible:!1}}),d.add(t.world,b)})),v.on(h,"mouseup",(e=>{d.remove(t.world,b),E("gridUp")})),d.add(t.world,h)})))),t.$$set=t=>{"id"in t&&n(0,w=t.id),"worldWidth"in t&&n(1,p=t.worldWidth),"worldHeight"in t&&n(2,x=t.worldHeight),"columns"in t&&n(3,y=t.columns),"rows"in t&&n(4,$=t.rows)},[w,p,x,y,$]}class k extends t{constructor(t){super(),e(this,t,S,C,n,{id:0,worldWidth:1,worldHeight:2,columns:3,rows:4})}}function M(t){let e,n,c,u,h,x;return{c(){e=r("div"),n=r("div"),c=f(t[0]),u=g(),h=r("div"),x=f(t[1]),this.h()},l(r){e=s(r,"DIV",{class:!0});var a=i(e);n=s(a,"DIV",{class:!0});var l=i(n);c=m(l,t[0]),l.forEach(o),u=v(a),h=s(a,"DIV",{class:!0});var d=i(h);x=m(d,t[1]),d.forEach(o),a.forEach(o),this.h()},h(){a(n,"class","text1 svelte-sjyl95"),a(h,"class","text2 svelte-sjyl95"),a(e,"class","cardContainer font-mono text-5xl svelte-sjyl95")},m(t,r){l(t,e,r),w(e,n),w(n,c),w(e,u),w(e,h),w(h,x)},p(t,[e]){1&e&&p(c,t[0]),2&e&&p(x,t[1])},i:d,o:d,d(t){t&&o(e)}}}function z(t,e,n){let{text1:r="hi"}=e,{text2:s="hello"}=e;return t.$$set=t=>{"text1"in t&&n(0,r=t.text1),"text2"in t&&n(1,s=t.text2)},[r,s]}class N extends t{constructor(t){super(),e(this,t,z,M,n,{text1:0,text2:1})}}function R(t){let e,n,d,c,u;return n=new k({props:{worldHeight:t[2],worldWidth:t[1]}}),n.$on("gridUp",t[3]),{c(){e=r("div"),x(n.$$.fragment),c=g(),this.h()},l(t){e=s(t,"DIV",{class:!0});var r=i(e);y(n.$$.fragment,r),r.forEach(o),c=v(t),this.h()},h(){a(e,"class","item svelte-2gggrv")},m(t,r){l(t,e,r),$(n,e,null),l(t,c,r),u=!0},p(t,e){const r={};4&e&&(r.worldHeight=t[2]),2&e&&(r.worldWidth=t[1]),n.$set(r)},i(t){u||(E(n.$$.fragment,t),j((()=>{d||(d=I(e,A,{duration:1e3},!0)),d.run(1)})),u=!0)},o(t){b(n.$$.fragment,t),d||(d=I(e,A,{duration:1e3},!1)),d.run(0),u=!1},d(t){t&&o(e),H(n),t&&d&&d.end(),t&&o(c)}}}function U(t){let e,n,c,u;return n=new N({}),n.$on("mouseup",t[3]),{c(){e=r("div"),x(n.$$.fragment),this.h()},l(t){e=s(t,"DIV",{class:!0});var r=i(e);y(n.$$.fragment,r),r.forEach(o),this.h()},h(){a(e,"class","item z-30 svelte-2gggrv")},m(t,r){l(t,e,r),$(n,e,null),u=!0},p:d,i(t){u||(E(n.$$.fragment,t),j((()=>{c||(c=I(e,A,{delay:0,duration:1e3},!0)),c.run(1)})),u=!0)},o(t){b(n.$$.fragment,t),c||(c=I(e,A,{delay:0,duration:1e3},!1)),c.run(0),u=!1},d(t){t&&o(e),H(n),t&&c&&c.end()}}}function _(t){let e,n,d,c,u="grid"===t[0]&&R(t),h="card"===t[0]&&U(t);return{c(){e=r("div"),u&&u.c(),n=f("}\n\n  "),h&&h.c(),this.h()},l(t){e=s(t,"DIV",{class:!0,style:!0});var r=i(e);u&&u.l(r),n=m(r,"}\n\n  "),h&&h.l(r),r.forEach(o),this.h()},h(){a(e,"class","container svelte-2gggrv"),W(e,"height",t[2]+"px")},m(t,r){l(t,e,r),u&&u.m(e,null),w(e,n),h&&h.m(e,null),c=!0},p(t,[r]){"grid"===t[0]?u?(u.p(t,r),1&r&&E(u,1)):(u=R(t),u.c(),E(u,1),u.m(e,n)):u&&(B(),b(u,1,1,(()=>{u=null})),V()),"card"===t[0]?h?(h.p(t,r),1&r&&E(h,1)):(h=U(t),h.c(),E(h,1),h.m(e,null)):h&&(B(),b(h,1,1,(()=>{h=null})),V()),(!c||4&r)&&W(e,"height",t[2]+"px")},i(t){c||(E(u),E(h),j((()=>{d||(d=I(e,A,{duration:7e3},!0)),d.run(1)})),c=!0)},o(t){b(u),b(h),d||(d=I(e,A,{duration:7e3},!1)),d.run(0),c=!1},d(t){t&&o(e),u&&u.d(),h&&h.d(),t&&d&&d.end()}}}function F(t,e,n){let r="grid",s=1,i=1;return D((()=>{n(1,s=window.innerWidth),n(2,i=window.innerHeight)})),[r,s,i,function(){n(0,r="card"===r?"grid":"card"),setTimeout((()=>{n(0,r="grid")}),2e4)}]}export default class extends t{constructor(t){super(),e(this,t,F,_,n,{})}}
